<!DOCTYPE html>
<html>
<head>
	<title></title>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<link href="https://fonts.googleapis.com/css?family=Poppins" rel="stylesheet">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link rel="stylesheet" type="text/css" href="index.css">
</head>
<body>
	<div class="container">
		<div class="char">
			<span class="character c1"></span>

		</div>

		<div class="buttons">
			
		</div>
	</div>

	<div class="try"></div>
</body>

<script type="text/javascript">
	var client = new XMLHttpRequest();
	client.open('GET', 'text.txt');
	var all
	client.onreadystatechange = function() {
		var alltext = client.responseText;
		gh = alltext.split(" ");
		all = gh;
	}
	client.send();

	function getRandomInt(max) {
		return Math.floor(Math.random() * Math.floor(max));
	}

	rand = getRandomInt(2);

	text = all[rand];
	function randomsort(a, b) { 
		return Math.random()>.5 ? -1 : 1;
	}
	var arrStr = text;
	var randomStr = arrStr.split('').sort(randomsort); 
	v = randomStr
	x = randomStr
	for (var i = 0; i < v.length; i++) {
		$(".c1").append("<span class='text'>"+v[i]+"</span>")
		if (i<v.length-1) {
			$(".c1").append("<div class='circle '><span class='cover'  id = 'circ"+ i +"'></span><i class='fas fa-angle-left'> </i><i class='fas fa-angle-right'></i></div>")
		}
	}
	
	function fun() {
		temp = x[arg]
		x[arg]=x[arg+1]
		x[arg+1]=temp;
		$('.c1').empty();
		v = x.join("")
		for (var i = 0; i < v.length; i++) {
			$(".c1").append("<span class='text'>"+v[i]+"</span>")
			if (i<v.length-1) {
				$(".c1").append("<div class='circle '><span class='cover' id = 'circ"+ i +"'></span><i class='fas fa-angle-left'> </i><i class='fas fa-angle-right'></i></div>")
			}
		}

		if (v==text) {
			alert("finish")
		}
	}

	$("body").bind('click', $.proxy(function(event) {
		var status = $(event.target).attr('id');
		console.log(status)
		number = status.replace("circ", "");
		arg = parseInt(number)
		fun(arg)
	}, this));
</script>
</html>